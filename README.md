# SNMPTest
SNMPTest

## 过滤条件:   ip.dst==192.168.99.192 &&  ip.src==192.168.99.234 && snmp
***

##汉明

###  汉明 逻辑

### 获取oid  和  终端mac  [terminalMacmap]
	* 1.3.6.1.4.1.37014.8000.2.4.1.1.1.112

	* oidnew: 112.101.130.13.211.160.0.0.118.67.217.118,va: 00:00:76:43:d9:76
	* oidnew: 112.101.130.13.211.160.0.0.118.67.217.118,va: 00:00:76:43:d9:76
	* oidnew: 112.101.130.13.211.160.16.48.71.153.208.150,va: 10:30:47:99:d0:96

### 获取oid 和 ap mac   [apMapmap]
	* 1.3.6.1.4.1.37014.8000.2.4.1.1.10.112

	* oidnew: 112.101.130.13.211.160.0.0.118.67.217.118,va: 70:65:82:0d:d3:a0
	* oidnew: 112.101.130.13.211.160.16.48.71.153.208.150,va: 70:65:82:0d:d3:a0
	* oidnew: 112.101.130.13.211.160.24.38.102.188.102.100,va: 70:65:82:0d:d3:a0

###  获取唯一的 apmac Lsit
	
#### 解析步骤：
 1. 循环apmac List 取出一个apmac;
 2. 遍历[apMapmap] 找到当前apmac对应的 oidnew;
 3. 通过containsKey方法找到 [terminalMacmap] 中存在的终端mac;
 4. 把找到的终端mac 加入到 terminalmacTemp List中;
 5. 利用apmac 和 terminalmacTemp 创建对象,并添加到apTerminalMacList 中;
 6. 最后返回并添加到apTerminalMacList。 

***





##华三


### h3c 逻辑

#### 方法：
  1. 取1.3.6.1.4.1.2011.10.2.75.2.1.1.1.3开头的ap的mac,并且取得ap序列号：   [获取全部ap mac 和对应的序列号]
    * Name/OID: .1.3.6.1.4.1.2011.10.2.75.2.1.1.1.3.20.50.49.57.56.48.49.65.48.82.69.77.49.54.49.48.48.49.48.50.51
      Value (OctetString): 38-97-D6-A1-B5-A0    
    * apMacmap.put(oid, va);
      oid经过处理过后的ap序列号:直接取20.后面的数字，然后ASCII码转换为10进制;
      va是ap的mac地址.
    * 结果：apMacmap:   [219801A0REM161001023,38-97-D6-A1-B5-A0]
 
  2. 取 1.3.6.1.4.1.2011.10.2.75.3.1.2.1.1 开头的sta MAC地址，需要10进制转换为16进制，并且取得ap序列号  [获取所有的终端序列号和ap序列号]
     * Name/OID: 1.3.6.1.4.1.2011.10.2.75.3.1.2.1.1.144.182.134.126.65.237
      Value (OctetString): 219801A0REM161000969

      144.182.134.126.65.237     90:B6:86:7E:41:ED   应对应这个终端的MAC地址

    * terminalMacmap.put(oid, va);    
    oid是2进制的终端mac，需要经过处理之后存入:6位10进制转换为16进制
    va是ap序列号
    * 结果：terminalMacmap: [90:B6:86:7E:41:ED,219801A0REM161000969]

   3. 遍历apMacmap的va,如38-97-D6-A1-B5-A0，找到ap的序列号，并据此找到在terminalMacmap中能找到对应的终端mac地址，则存入到apTerminalMacList.

    最终结果[{38-97-D6-A1-B5-A0,0008-2298-bc86},{38-97-D6-A1-B5-A0,0008-1198-bc87},...]


  华三在转的时候，存在一些问题：
  * sta MAC 在转单个数字的时候 10进制转16进制时候，需要补位0.



##锐捷

### 锐捷解析

1. 1.1.3.6.1.4.1.4881.1.1.10.2.56.5.1.1.1.1  获取所有的终端mac  [terminalMacmap]

  * oidnew: 16.246.129.251.103.69,va: 10:f6:81:fb:67:45
  * oidnew: 36.0.186.0.193.188,va: 24:00:ba:00:c1:bc
  * oidnew: 40.227.31.142.255.87,va: 28:e3:1f:8e:ff:57
  * oidnew: 44.91.184.185.28.137,va: 2c:5b:b8:b9:1c:89
  * oidnew: 48.99.107.153.114.1,va: 30:63:6b:99:72:01
  * oidnew: 48.155.173.192.116.199,va: 30:9b:ad:c0:74:c7
  * oidnew: 52.128.179.127.35.200,va: 34:80:b3:7f:23:c8
  * oidnew: 56.113.222.47.72.10,va: 38:71:de:2f:48:0a

2. 1.3.6.1.4.1.4881.1.1.10.2.56.5.1.1.1.2 获取所有的apmac  [apMapmap]

  * oidnew: 16.246.129.251.103.69,va: 58:69:6c:4c:03:1f
  * oidnew: 36.0.186.0.193.188,va: 58:69:6c:4b:e1:63
  * oidnew: 40.227.31.142.255.87,va: 58:69:6c:4a:ec:43
  * oidnew: 44.91.184.185.28.137,va: 58:69:6c:59:8f:06
  * oidnew: 48.99.107.153.114.1,va: 58:69:6c:4a:d2:1f
  * oidnew: 48.155.173.192.116.199,va: 58:69:6c:59:8f:06
  * oidnew: 52.128.179.127.35.200,va: 58:69:6c:4c:04:57
  * oidnew: 56.113.222.47.72.10,va: 58:69:6c:4a:d5:93
  * oidnew: 72.219.80.104.180.177,va: 58:69:6c:4a:eb:bf
  * oidnew: 72.233.241.205.239.226,va: 58:69:6c:4c:01:db

#### 解析步骤：
  1. 遍历apMacHaveterminalList，获取apmac;
  2. 遍历[apMapmap] 找到当前apmac对应的 oidnew;
  3. 通过containsKey方法找到 [terminalMacmap] 中存在的终端mac;
  4. 把找到的终端mac 加入到 terminalmacTemp List中;
  5. 利用apmac 和 terminalmacTemp 创建对象,并添加到apTerminalMacList 中;
  6. 最后返回并添加到apTerminalMacList。
